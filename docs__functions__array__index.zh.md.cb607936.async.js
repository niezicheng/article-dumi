(self["webpackChunkdocs_dumi"]=self["webpackChunkdocs_dumi"]||[]).push([[3157],{76984:function(n,e,a){"use strict";a.r(e);var t=a(67294),r=a(96089),l=a(65659);a(45139);e["default"]=n=>(t.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),t.createElement(t.Fragment,null,t.createElement("div",{className:"markdown"},t.createElement("h2",{id:"map"},t.createElement(r.AnchorLink,{to:"#map","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"map"),t.createElement(l.Z,{code:"/**\n * \u904d\u5386\u5bf9\u8c61\n * arr \u904d\u5386\u7684\u6570\u7ec4\u5bf9\u8c61\n * callback \u5904\u7406\u6267\u884c\u7ed3\u679c\u56de\u8c03\u51fd\u6570\n */\nfunction (arr, callback) {\n  if (!Array.isArray(arr) || !arr?.length || typeof callback !== 'function') {\n    return [];\n  }\n\n  let array = [];\n  for(let i = 0; i < arr.length; i++) {\n    // \u5c06 callback \u8fd4\u56de\u7ed3\u679c\u653e\u5165 array\n    array.push(callback(arr[i], i, arr));\n  }\n  return array;\n}",lang:"tsx"}),t.createElement("h2",{id:"filter"},t.createElement(r.AnchorLink,{to:"#filter","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"filter"),t.createElement(l.Z,{code:"/**\n * \u904d\u5386\u5bf9\u8c61\uff0c\u83b7\u53d6\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u7ec4\u9879\n * arr \u904d\u5386\u7684\u6570\u7ec4\u5bf9\u8c61\n * callback \u5904\u7406\u6267\u884c\u7ed3\u679c\u56de\u8c03\u51fd\u6570\n */\nfunction (arr, callback) {\n  if (!Array.isArray(arr) || !arr?.length || typeof callback !== 'function') {\n    return [];\n  }\n\n  let array = [];\n  for(let i = 0; i < arr.length; i++) {\n    // \u5c06 callback \u8fd4\u56de\u7ed3\u679c\u4e3a true \u65f6\uff0c\u5c06\u5bf9\u5e94\u6570\u7ec4\u9879\u653e\u5165 array\n    if (callback(arr[i], i, arr)) {\n      array.push(arr[i]);\n    }\n  }\n  return array;\n}",lang:"tsx"}),t.createElement("h2",{id:"reduce"},t.createElement(r.AnchorLink,{to:"#reduce","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"reduce"),t.createElement(l.Z,{code:"/**\n * \u904d\u5386\u5bf9\u8c61\uff0c\u904d\u5386\u6267\u884c callback \u8fd4\u56de\u8868\u8fbe\u5f0f\n * arr \u904d\u5386\u7684\u6570\u7ec4\u5bf9\u8c61\n * callback \u5904\u7406\u6267\u884c\u7ed3\u679c\u56de\u8c03\u51fd\u6570\n * initValue \u521d\u59cb\u503c\n */\nfunction (arr, callback, initValue) {\n  if (!Array.isArray(arr) || !arr?.length || typeof callback !== 'function') {\n    return [];\n  }\n\n  // \u662f\u5426\u4f20\u9012\u521d\u59cb\u503c\n  const hasInitValue = initValue !== undefined;\n  let value = hasInitValue ? initValue : arr[0];\n\n  // \u6709\u521d\u59cb\u503c\u9700\u8981\u591a\u5faa\u73af\u4e00\u6b21\uff0c \u6240\u4ee5 i \u5e94\u4ece 0 \u5f00\u59cb\n  for(let i = hasInitValue ? 0 : 1; i < arr.length; i++) {\n    // value \u4e3a\u6bcf\u6b21 callback \u7684\u8fd4\u56de\u503c\n    value = callback(value, arr[i], i, arr);\n  }\n  return value;\n}",lang:"tsx"}),t.createElement("h2",{id:"\u6df1\u62f7\u8d1d"},t.createElement(r.AnchorLink,{to:"#\u6df1\u62f7\u8d1d","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6df1\u62f7\u8d1d"),t.createElement("h3",{id:"\u57fa\u7840\u7248\uff08\u6d45\u62f7\u8d1d--\u9012\u5f52\uff09"},t.createElement(r.AnchorLink,{to:"#\u57fa\u7840\u7248\uff08\u6d45\u62f7\u8d1d--\u9012\u5f52\uff09","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u57fa\u7840\u7248\uff08\u6d45\u62f7\u8d1d + \u9012\u5f52\uff09"),t.createElement(l.Z,{code:"/**\n * (\u6d45\u62f7\u8d1d + \u9012\u5f52)\u8fdb\u884c\u514b\u9686, \u53ea\u5904\u7406\u5bf9\u8c61\u548c\u6570\u7ec4\u7c7b\u578b\u5f15\u7528\n * target \u9700\u8981\u514b\u9686\u7684\u6570\u636e\n * map \u5b58\u50a8\u7a7a\u5bf9\u8c61\u6216\u7a7a\u6570\u636e\u4fe1\u606f\n */\nfunction cloneDeep(target, map = new WeakMap()) {\n  if (!target) return target;\n  if (target instanceof Date) return new Date(target);\n  if (target instanceof RegExp) return new RegExp(target);\n\n  if (typeof target !== 'object') return target;\n\n  let cloneTarget = Array.isArray(target) ? [] : {};\n\n  // \u540e\u9762\u5faa\u73af\u5b58\u5728\u7a7a\u5bf9\u8c61\u6216\u7a7a\u6570\u7ec4\u65f6\uff0c\u76f4\u63a5\u8fd4\u56de\n  if (map.get(target)) return map.get(target);\n\n  // \u5c06\u7a7a\u5bf9\u8c61\u6216\u7a7a\u6570\u7ec4\u5b58\u50a8\u5230 map \u4e2d\n  map.set(target, cloneTarget);\n\n  // \u5faa\u73af\u904d\u5386\u975e\u7a7a\u5bf9\u8c61\u6216\u6570\u7ec4\n  for (let key in target) {\n    cloneTarget[key] = cloneDeep(target[key], map);\n  }\n\n  return cloneTarget;\n}",lang:"tsx"}),t.createElement("h3",{id:"\u6570\u636e\u683c\u5f0f\u8f6c\u6362"},t.createElement(r.AnchorLink,{to:"#\u6570\u636e\u683c\u5f0f\u8f6c\u6362","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u683c\u5f0f\u8f6c\u6362"),t.createElement("p",null,t.createElement("strong",null,"\u6570\u636e\u683c\u5f0f")),t.createElement(l.Z,{code:"[\n  {\n    name: '\u4e00\u7ea7\u76ee\u5f55',\n\n    children: [\n      {\n        name: '\u4e8c\u7ea7\u76ee\u5f55',\n\n        tagList: [\n          {\n            name: '\u6807\u7b7e',\n\n            tagValueList: [\n              {\n                name: '\u6807\u7b7e\u503c111',\n              },\n              {\n                name: '\u6807\u7b7e\u503c222',\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n][\n  // \u8f6c\u6362\u540e\n  (['\u4e00\u7ea7\u76ee\u5f55', '\u4e8c\u7ea7\u76ee\u5f55', '\u6807\u7b7e', '\u6807\u7b7e\u503c111'],\n  ['\u4e00\u7ea7\u76ee\u5f55', '\u4e8c\u7ea7\u76ee\u5f55', '\u6807\u7b7e', '\u6807\u7b7e\u503c222'])\n];",lang:"ts"}),t.createElement(l.Z,{code:"/**\n * \u83b7\u53d6\u641c\u7d22\u6570\u636e\u4fe1\u606f\n * @param data \u539f\u6570\u636e\n * @param parent \u7236\u8282\u70b9\u6570\u636e\u4fe1\u606f\n * @returns \u5e73\u94fa\u7684\u4e8c\u7ef4\u6570\u7ec4\n */\nexport const fetchSearchData = (data, parent?: any): any[][] => {\n  let newData = [];\n  data?.forEach(item => {\n    // \u5904\u7406\u591a\u7ea7\u5206\u7c7b\n    if (Array.isArray(item?.children) && item.children?.length > 0) {\n      const temp = fetchSearchData(item?.children, item)?.map(val =>\n        parent ? [parent, ...val] : val,\n      );\n      newData.push(...temp);\n      // \u5904\u7406\u6807\u7b7e\n    } else if (Array.isArray(item?.tagList) && item.tagList?.length > 0) {\n      const temp = fetchSearchData(item?.tagList, item)?.map(val =>\n        parent ? [parent, ...val] : val,\n      );\n      newData.push(...temp);\n      // \u5904\u7406\u6807\u7b7e\u503c\n    } else if (\n      Array.isArray(item?.tagValueList) &&\n      item.tagValueList?.length > 0\n    ) {\n      const temp = fetchSearchData(item?.tagValueList, item)?.map(val =>\n        parent ? [parent, ...val] : val,\n      );\n      newData.push(...temp);\n    } else {\n      newData.push([parent, item]);\n    }\n  });\n\n  return newData;\n};",lang:"ts"}))))}}]);